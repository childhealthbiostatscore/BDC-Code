---
title: "TEDDY Multi-Assay Analysis"
author: "Tim Vigers & Laura Pyle"
date: "`r format(Sys.time(), '%d %B %Y')`"
output: html_document
---

```{r setup, include=FALSE}
library(mlr3verse)
library(tidyverse)
library(heatmaply)
knitr::opts_chunk$set(echo = FALSE,warning = FALSE)
home_dir = ifelse(.Platform$OS.type != "unix","T:/",
                  "/mnt/UCD/PEDS/RI Biostatistics Core/Shared/Shared Projects/Laura/BDC/Projects/Howard Davidson/TEDDY data")
knitr::opts_knit$set(root.dir = home_dir)
rm(home_dir)
```

```{r load full df}
load("./Data_Clean/separate_timepoints.RData")
```

# Methods

1. Data were combined into rectangular format.
2. Columns with >= 80% missing data or CV < 30% were dropped. 468 variables remained after this step. 
3. Rows missing all 468 of the retained variables from step 3 were dropped. 
4. Correlation between 468 remaining predictors was examined visually using a heatmap, and predictors were clustered using the ... (add the clustering algorithm details here).
 - Dendrograms are colored according to the optimal number of groups. This is determined using the find_k() function ... (more details here).

# Predictor Clustering

## Correlation with other predictors

```{r}
corr_mat = cor(df[,predictors],use = "pairwise.complete.obs")
heatmaply_cor(corr_mat,k_col = NA,k_row = NA,showticklabels = F,show_dendrogram	= c(F,T))
```

To see which predictors are represented by a given cell, hover over the cell with the mouse.
