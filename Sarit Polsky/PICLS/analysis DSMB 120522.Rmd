---
title: "PICLS DSMB report 120522"
author: "Laura Pyle"
date: "`r format(Sys.time(), '%d %B %Y')`"
output:
  html_document:
    number_sections: yes
    theme: readable
    toc: yes
    toc_depth: 3
    toc_float: yes
---

```{r setup, include=FALSE}
library(knitr)
library(stringr)
library(dplyr)

knitr::opts_chunk$set(echo = FALSE,warning = FALSE)

knitr::opts_chunk$set(echo = FALSE)
if(Sys.info()["sysname"] == "Windows"){
  home_dir = "B:/Projects/Sarit Polsky/PICLS"
} else if (Sys.info()["sysname"] == "Linux"){
  home_dir = "~/UCD/PEDS/RI Biostatistics Core/Shared/Shared Projects/Laura/BDC/Projects"
} else if (Sys.info()["sysname"] == "Darwin"){
  home_dir = "/Volumes/som/PEDS/RI Biostatistics Core/Shared/Shared Projects/Laura/BDC/Projects"
}
knitr::opts_knit$set(root.dir = home_dir)
setwd(home_dir)
```

```{r data, include=FALSE}
# read CGM data
cgmdata <- read.csv("./Data_Clean/Cleaned CGM data/REDCap Upload.csv")
cgmdata$pid <- str_sub(cgmdata$subject_id,1,4)
cgmdata$time <- str_sub(cgmdata$subject_id,6,7)

# merge in randomization groups
rand <- read.csv("./Data_Clean/PICLSStudyHCLVsSAPTI-RandomizedPatients_DATA_2022-11-14_1616.csv")
rand_keep <- rand %>% select(pid,randomization_group)
cgmdata <- merge(cgmdata, rand_keep, by="pid", all.x = T, all.y = T)

# remove 102A for now, because we don't have any CGM data
cgmdata <- cgmdata %>% filter(!pid=="102A")
```


```{r echo=FALSE}
kable(t1,caption = "")
```
<br>
