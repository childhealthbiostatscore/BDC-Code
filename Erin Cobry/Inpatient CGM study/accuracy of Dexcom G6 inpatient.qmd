---
title: "Accuracy of the Dexcom G6 during inpatient hospitalization"
author: "Laura Pyle"
date: "`r format(Sys.time(), '%d %B %Y')`"
format:
  html:
    toc: true
    toc-depth: 5
    toc-float: true
    code-fold: true
    self-contained: true
editor: visual
---

```{r include=FALSE}
library(dplyr)
library(cgmanalysis)

# Import data
source("B:/Projects/Erin Cobry/Inpatient CGM study/Data raw/AccuracyOfTheDexcomG-Glucose_R_2022-09-29_1357.r")
glucose <- data
glucose <- glucose %>% filter(!is.na(bgvalue))

source("B:/Projects/Erin Cobry/Inpatient CGM study/Data raw/AccuracyOfTheDexcomG-PatientInfoAndLocati_R_2022-09-29_1356.r")
patient <- data
patient <- patient %>% filter(!record_id %in% c("Test 1","Test 2"))

# Read in csv files
cleandata(inputdirectory = "B:/Projects/Erin Cobry/Inpatient CGM study/Data raw/Dexcom CSVs", outputdirectory = "B:/Projects/Erin Cobry/Inpatient CGM study/Data clean/Clean CSVs", verbose = T, id_filename = T, gapfill = F, removegaps = F)

files <- base::list.files(path = "B:/Projects/Erin Cobry/Inpatient CGM study/Data raw/Dexcom CSVs",full.names = TRUE,recursive = T)

for (f in 1:length(files)){
  table <- read.csv(files[f])
  # fix study ID in each file
  # append the files
  
}


```
